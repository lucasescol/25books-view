{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/services/user.service\";\nimport * as i3 from \"src/app/services/book.service\";\nimport * as i4 from \"src/app/services/borrow.service\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"@angular/forms\";\nfunction BorrowCreateComponent_option_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 12);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const user_r2 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"value\", user_r2 == null ? null : user_r2.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(user_r2 == null ? null : user_r2.name);\n  }\n}\nfunction BorrowCreateComponent_option_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 12);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const book_r3 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"value\", book_r3 == null ? null : book_r3.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(book_r3 == null ? null : book_r3.title);\n  }\n}\nexport class BorrowCreateComponent {\n  constructor(router, userService, bookService, borrowService) {\n    this.router = router;\n    this.userService = userService;\n    this.bookService = bookService;\n    this.borrowService = borrowService;\n    this.borrow = {\n      bookId: undefined,\n      userId: undefined,\n      user: \"\",\n      book: \"\"\n    };\n  }\n  ngOnInit() {\n    this.userService.getUsers().subscribe(users => {\n      this.users = users;\n    });\n    this.bookService.getBooks().subscribe(books => {\n      this.books = books;\n    });\n  }\n  newBorrow() {\n    let userSelect = document.querySelector(\"#user\");\n    let bookSelect = document.querySelector(\"#book\");\n    this.borrow.bookId = parseInt(bookSelect.value);\n    this.borrow.userId = parseInt(userSelect.value);\n    this.borrowService.newBorrow(this.borrow).subscribe(res => {\n      alert(res.msg);\n      this.router.navigate(['/borrow']);\n    });\n  }\n  cancel() {\n    this.router.navigateByUrl('/borrow');\n  }\n}\nBorrowCreateComponent.ɵfac = function BorrowCreateComponent_Factory(t) {\n  return new (t || BorrowCreateComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.UserService), i0.ɵɵdirectiveInject(i3.BookService), i0.ɵɵdirectiveInject(i4.BorrowService));\n};\nBorrowCreateComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: BorrowCreateComponent,\n  selectors: [[\"app-borrow-create\"]],\n  decls: 24,\n  vars: 2,\n  consts: [[1, \"card\"], [1, \"title\"], [1, \"select\"], [\"for\", \"user\"], [\"name\", \"user\", \"id\", \"user\", \"ngModel\", \"\"], [\"value\", \"\", \"disabled\", \"\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"for\", \"book\"], [\"name\", \"book\", \"id\", \"book\", \"ngModel\", \"\"], [1, \"buttons\"], [3, \"click\"], [\"id\", \"btnCancel\", 3, \"click\"], [3, \"value\"]],\n  template: function BorrowCreateComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"section\")(1, \"div\", 0)(2, \"h3\", 1);\n      i0.ɵɵtext(3, \"New Borrow\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"form\")(5, \"div\", 2)(6, \"label\", 3);\n      i0.ɵɵtext(7, \"User\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"select\", 4)(9, \"option\", 5);\n      i0.ɵɵtext(10, \"Choose a user\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(11, BorrowCreateComponent_option_11_Template, 2, 2, \"option\", 6);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(12, \"div\", 2)(13, \"label\", 7);\n      i0.ɵɵtext(14, \"Book\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"select\", 8)(16, \"option\", 5);\n      i0.ɵɵtext(17, \"Choose a book\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(18, BorrowCreateComponent_option_18_Template, 2, 2, \"option\", 6);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(19, \"div\", 9)(20, \"button\", 10);\n      i0.ɵɵlistener(\"click\", function BorrowCreateComponent_Template_button_click_20_listener() {\n        return ctx.newBorrow();\n      });\n      i0.ɵɵtext(21, \"Borrow\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(22, \"button\", 11);\n      i0.ɵɵlistener(\"click\", function BorrowCreateComponent_Template_button_click_22_listener() {\n        return ctx.cancel();\n      });\n      i0.ɵɵtext(23, \"Cancel\");\n      i0.ɵɵelementEnd()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(11);\n      i0.ɵɵproperty(\"ngForOf\", ctx.users);\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngForOf\", ctx.books);\n    }\n  },\n  dependencies: [i5.NgForOf, i6.ɵNgNoValidate, i6.NgSelectOption, i6.ɵNgSelectMultipleOption, i6.SelectControlValueAccessor, i6.NgControlStatus, i6.NgControlStatusGroup, i6.NgModel, i6.NgForm],\n  styles: [\"var[_ngcontent-%COMP%]   resource[_ngcontent-%COMP%];\\n (()[_ngcontent-%COMP%]   =[_ngcontent-%COMP%] >  { // webpackBootstrap\\n \\tvar __webpack_modules__ = ({\\n\\n 496:\\n\\n (() => {\\n\\nthrow new Error(\\\"Module build failed (from ./node_modules/postcss-loader/dist/cjs.js):\\\\nSyntaxError\\\\n\\\\n(49:5) D:\\\\\\\\Lucas\\\\\\\\25Books\\\\\\\\frontend\\\\\\\\src\\\\\\\\app\\\\\\\\components\\\\\\\\borrow\\\\\\\\borrow-create\\\\\\\\borrow-create.component.css Unknown word\\\\n\\\\n \\\\u001b[90m 47 | \\\\u001b[39m\\\\n \\\\u001b[90m 48 | \\\\u001b[39mform label \\\\u001b[33m{\\\\u001b[39m\\\\n\\\\u001b[1m\\\\u001b[31m>\\\\u001b[39m\\\\u001b[22m\\\\u001b[90m 49 | \\\\u001b[39m    font\\\\n \\\\u001b[90m    | \\\\u001b[39m    \\\\u001b[1m\\\\u001b[31m^\\\\u001b[39m\\\\u001b[22m\\\\n \\\\u001b[90m 50 | \\\\u001b[39m\\\\u001b[33m}\\\\u001b[39m\\\\n \\\\u001b[90m 51 | \\\\u001b[39m\\\\n\\\");\\n\\n })\\n\\n \\t});\\n\\n \\t\\n \\t// startup\\n \\t// Load entry module and return exports\\n \\t// This entry module doesn't tell about it's top-level declarations so it can't be inlined\\n \\tvar __webpack_exports__ = {};\\n \\t__webpack_modules__[496]();\\n \\tresource = __webpack_exports__;\\n \\t\\n })()\\n;\\n/*# sourceMappingURL=borrow-create.component.css.map*/\"]\n});","map":{"version":3,"mappings":";;;;;;;;;IAQoBA,kCAAwD;IAAAA,YAAc;IAAAA,iBAAS;;;;IAA5CA,sEAAoB;IAACA,eAAc;IAAdA,2DAAc;;;;;IAOtEA,kCAAwD;IAAAA,YAAe;IAAAA,iBAAS;;;;IAA7CA,sEAAoB;IAACA,eAAe;IAAfA,4DAAe;;;ACA3F,OAAM,MAAOC,qBAAqB;EAEhCC,YAAoBC,MAAc,EAAUC,WAAwB,EAAUC,WAAwB,EAAUC,aAA4B;IAAxH,WAAM,GAANH,MAAM;IAAkB,gBAAW,GAAXC,WAAW;IAAuB,gBAAW,GAAXC,WAAW;IAAuB,kBAAa,GAAbC,aAAa;IAI7H,WAAM,GAAW;MACfC,MAAM,EAAEC,SAAS;MACjBC,MAAM,EAAED,SAAS;MACjBE,IAAI,EAAE,EAAE;MACRC,IAAI,EAAE;KACP;EAT8I;EAW/IC,QAAQ;IACN,IAAI,CAACR,WAAW,CAACS,QAAQ,EAAE,CAACC,SAAS,CAACC,KAAK,IAAG;MAC5C,IAAI,CAACA,KAAK,GAAGA,KAAK;IACpB,CAAC,CAAC;IACF,IAAI,CAACV,WAAW,CAACW,QAAQ,EAAE,CAACF,SAAS,CAACG,KAAK,IAAG;MAC5C,IAAI,CAACA,KAAK,GAAGA,KAAK;IACpB,CAAC,CAAC;EACJ;EAEAC,SAAS;IACP,IAAIC,UAAU,GAAGC,QAAQ,CAACC,aAAa,CAAC,OAAO,CAAqB;IACpE,IAAIC,UAAU,GAAGF,QAAQ,CAACC,aAAa,CAAC,OAAO,CAAqB;IACpE,IAAI,CAACE,MAAM,CAAChB,MAAM,GAAGiB,QAAQ,CAACF,UAAU,CAACG,KAAK,CAAC;IAC/C,IAAI,CAACF,MAAM,CAACd,MAAM,GAAGe,QAAQ,CAACL,UAAU,CAACM,KAAK,CAAC;IAC/C,IAAI,CAACnB,aAAa,CAACY,SAAS,CAAC,IAAI,CAACK,MAAM,CAAC,CAACT,SAAS,CAAEY,GAAG,IAAI;MAC1DC,KAAK,CAACD,GAAG,CAACE,GAAG,CAAC;MACd,IAAI,CAACzB,MAAM,CAAC0B,QAAQ,CAAC,CAAC,SAAS,CAAC,CAAC;IACnC,CAAC,CAAC;EAEJ;EAEAC,MAAM;IACJ,IAAI,CAAC3B,MAAM,CAAC4B,aAAa,CAAC,SAAS,CAAC;EACtC;;AApCW9B,qBAAqB;mBAArBA,qBAAqB;AAAA;AAArBA,qBAAqB;QAArBA,qBAAqB;EAAA+B;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDflCpC,+BAAS;MAEiBA,0BAAU;MAAAA,iBAAK;MACjCA,4BAAM;MAEoBA,oBAAI;MAAAA,iBAAQ;MAC9BA,iCAAsC;MACRA,8BAAa;MAAAA,iBAAS;MAChDA,8EAA+E;MACnFA,iBAAS;MAEbA,+BAAoB;MACEA,qBAAI;MAAAA,iBAAQ;MAC9BA,kCAAsC;MACRA,8BAAa;MAAAA,iBAAS;MAChDA,8EAAgF;MACpFA,iBAAS;MAIjBA,+BAAqB;MACTA;QAAA,OAASqC,eAAW;MAAA,EAAC;MAACrC,uBAAM;MAAAA,iBAAS;MAC7CA,mCAA0C;MAAnBA;QAAA,OAASqC,YAAQ;MAAA,EAAC;MAACrC,uBAAM;MAAAA,iBAAS;;;MAdxBA,gBAAQ;MAARA,mCAAQ;MAORA,eAAQ;MAARA,mCAAQ","names":["i0","BorrowCreateComponent","constructor","router","userService","bookService","borrowService","bookId","undefined","userId","user","book","ngOnInit","getUsers","subscribe","users","getBooks","books","newBorrow","userSelect","document","querySelector","bookSelect","borrow","parseInt","value","res","alert","msg","navigate","cancel","navigateByUrl","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["D:\\Lucas\\25Books\\frontend\\src\\app\\components\\borrow\\borrow-create\\borrow-create.component.html","D:\\Lucas\\25Books\\frontend\\src\\app\\components\\borrow\\borrow-create\\borrow-create.component.ts"],"sourcesContent":["<section>\n    <div class=\"card\">\n        <h3 class=\"title\">New Borrow</h3>\n        <form>\n            <div class=\"select\">\n                <label for=\"user\">User</label>\n                <select name=\"user\" id=\"user\" ngModel>\n                    <option value=\"\" disabled>Choose a user</option>\n                    <option *ngFor=\"let user of users\" value=\"{{user?.id}}\">{{user?.name}}</option>\n                </select>\n            </div>\n            <div class=\"select\">\n                <label for=\"book\">Book</label>\n                <select name=\"book\" id=\"book\" ngModel>\n                    <option value=\"\" disabled>Choose a book</option>\n                    <option *ngFor=\"let book of books\" value=\"{{book?.id}}\">{{book?.title}}</option>\n                </select>\n            </div>\n\n        </form>\n        <div class=\"buttons\">\n            <button (click)=\"newBorrow()\">Borrow</button>\n            <button id=\"btnCancel\" (click)=\"cancel()\">Cancel</button>\n        </div>\n    </div>\n</section>","import { HttpClient } from '@angular/common/http';\nimport { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Book } from 'src/app/models/book.model';\nimport { Borrow } from 'src/app/models/borrow.model';\nimport { User } from 'src/app/models/user.model';\nimport { BookService } from 'src/app/services/book.service';\nimport { BorrowService } from 'src/app/services/borrow.service';\nimport { UserService } from 'src/app/services/user.service';\n\n@Component({\n  selector: 'app-borrow-create',\n  templateUrl: './borrow-create.component.html',\n  styleUrls: ['./borrow-create.component.css']\n})\nexport class BorrowCreateComponent implements OnInit {\n  \n  constructor(private router: Router, private userService: UserService, private bookService: BookService, private borrowService: BorrowService){ }\n\n  users!: User[]\n  books!: Book[]\n  borrow: Borrow = {\n    bookId: undefined,\n    userId: undefined,\n    user: \"\",\n    book: \"\"\n  }\n\n  ngOnInit(): void {\n    this.userService.getUsers().subscribe(users => {\n      this.users = users\n    })\n    this.bookService.getBooks().subscribe(books => {\n      this.books = books\n    })\n  }\n\n  newBorrow(): void {\n    let userSelect = document.querySelector(\"#user\") as HTMLInputElement\n    let bookSelect = document.querySelector(\"#book\") as HTMLInputElement\n    this.borrow.bookId = parseInt(bookSelect.value)\n    this.borrow.userId = parseInt(userSelect.value)\n    this.borrowService.newBorrow(this.borrow).subscribe((res) => {\n      alert(res.msg)\n      this.router.navigate(['/borrow'])\n    })\n\n  }\n\n  cancel(): void {\n    this.router.navigateByUrl('/borrow')\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}