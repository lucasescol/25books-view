{"ast":null,"code":"import { EMPTY, catchError, map } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport class BorrowService {\n  constructor(http) {\n    this.http = http;\n    this.baseUrl = \"http://localhost:5000/api/book/borrow\";\n  }\n  newBorrow(borrow) {\n    let req = {\n      \"borrow\": borrow\n    };\n    return this.http.post(this.baseUrl, req).pipe(map(obj => obj), catchError(e => this.errorHandler(e)));\n  }\n  getBorrow() {\n    return this.http.get(this.baseUrl).pipe(map(obj => obj), catchError(e => this.errorHandler(e)));\n  }\n  getBorrowById(id) {\n    const url = `${baseurl}`;\n    return this.http.get(this.baseUrl).pipe(map(obj => obj), catchError(e => this.errorHandler(e)));\n  }\n  deleteBorrow(id) {\n    let url = `${this.baseUrl}/${id}`;\n    return this.http.delete(url).pipe(map(obj => obj), catchError(e => this.errorHandler(e)));\n  }\n  errorHandler(e) {\n    alert(e.msg);\n    return EMPTY;\n  }\n}\nBorrowService.ɵfac = function BorrowService_Factory(t) {\n  return new (t || BorrowService)(i0.ɵɵinject(i1.HttpClient));\n};\nBorrowService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: BorrowService,\n  factory: BorrowService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"mappings":"AAGA,SAASA,KAAK,EAAcC,UAAU,EAAEC,GAAG,QAAQ,MAAM;;;AAKzD,OAAM,MAAOC,aAAa;EAGxBC,YAAoBC,IAAgB;IAAhB,SAAI,GAAJA,IAAI;IAFxB,YAAO,GAAG,uCAAuC;EAET;EAExCC,SAAS,CAACC,MAAc;IACtB,IAAIC,GAAG,GAAG;MAAE,QAAQ,EAAED;IAAM,CAAE;IAC9B,OAAO,IAAI,CAACF,IAAI,CAACI,IAAI,CAAS,IAAI,CAACC,OAAO,EAAEF,GAAG,CAAC,CAACG,IAAI,CACnDT,GAAG,CAACU,GAAG,IAAIA,GAAG,CAAC,EACfX,UAAU,CAACY,CAAC,IAAI,IAAI,CAACC,YAAY,CAACD,CAAC,CAAC,CAAC,CACtC;EACH;EAEAE,SAAS;IACP,OAAO,IAAI,CAACV,IAAI,CAACW,GAAG,CAAW,IAAI,CAACN,OAAO,CAAC,CAACC,IAAI,CAC/CT,GAAG,CAACU,GAAG,IAAIA,GAAG,CAAC,EACfX,UAAU,CAACY,CAAC,IAAI,IAAI,CAACC,YAAY,CAACD,CAAC,CAAC,CAAC,CACtC;EACH;EAEAI,aAAa,CAACC,EAAU;IACtB,MAAMC,GAAG,GAAG,GAAGC,OAAO,EAAE;IACxB,OAAO,IAAI,CAACf,IAAI,CAACW,GAAG,CAAW,IAAI,CAACN,OAAO,CAAC,CAACC,IAAI,CAC/CT,GAAG,CAACU,GAAG,IAAIA,GAAG,CAAC,EACfX,UAAU,CAACY,CAAC,IAAI,IAAI,CAACC,YAAY,CAACD,CAAC,CAAC,CAAC,CACtC;EACH;EAEAQ,YAAY,CAACH,EAAU;IACrB,IAAIC,GAAG,GAAG,GAAG,IAAI,CAACT,OAAO,IAAIQ,EAAE,EAAE;IACjC,OAAO,IAAI,CAACb,IAAI,CAACiB,MAAM,CAASH,GAAG,CAAC,CAACR,IAAI,CACvCT,GAAG,CAACU,GAAG,IAAIA,GAAG,CAAC,EACfX,UAAU,CAACY,CAAC,IAAI,IAAI,CAACC,YAAY,CAACD,CAAC,CAAC,CAAC,CACtC;EACH;EAEAC,YAAY,CAACD,CAAM;IACjBU,KAAK,CAACV,CAAC,CAACW,GAAG,CAAC;IACZ,OAAOxB,KAAK;EACd;;AAvCWG,aAAa;mBAAbA,aAAa;AAAA;AAAbA,aAAa;SAAbA,aAAa;EAAAsB,SAAbtB,aAAa;EAAAuB,YAFZ;AAAM","names":["EMPTY","catchError","map","BorrowService","constructor","http","newBorrow","borrow","req","post","baseUrl","pipe","obj","e","errorHandler","getBorrow","get","getBorrowById","id","url","baseurl","deleteBorrow","delete","alert","msg","factory","providedIn"],"sourceRoot":"","sources":["D:\\Lucas\\25Books\\frontend\\src\\app\\services\\borrow.service.ts"],"sourcesContent":["import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Borrow } from '../models/borrow.model';\nimport { EMPTY, Observable, catchError, map } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class BorrowService {\n  baseUrl = \"http://localhost:5000/api/book/borrow\"\n\n  constructor(private http: HttpClient) { }\n\n  newBorrow(borrow: Borrow): Observable<Borrow> {\n    let req = { \"borrow\": borrow }\n    return this.http.post<Borrow>(this.baseUrl, req).pipe(\n      map(obj => obj),\n      catchError(e => this.errorHandler(e))\n    )\n  }\n\n  getBorrow(): Observable<Borrow[]> {\n    return this.http.get<Borrow[]>(this.baseUrl).pipe(\n      map(obj => obj),\n      catchError(e => this.errorHandler(e))\n    )\n  }\n\n  getBorrowById(id: string): Observable<Borrow[]> {\n    const url = `${baseurl}`\n    return this.http.get<Borrow[]>(this.baseUrl).pipe(\n      map(obj => obj),\n      catchError(e => this.errorHandler(e))\n    )\n  }\n\n  deleteBorrow(id: string): Observable<Borrow> {\n    let url = `${this.baseUrl}/${id}`\n    return this.http.delete<Borrow>(url).pipe(\n      map(obj => obj),\n      catchError(e => this.errorHandler(e))\n    )\n  }\n\n  errorHandler(e: any): Observable<any> {\n    alert(e.msg)\n    return EMPTY\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}